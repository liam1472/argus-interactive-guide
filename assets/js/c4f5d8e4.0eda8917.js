"use strict";(globalThis.webpackChunkargus_vts_guide=globalThis.webpackChunkargus_vts_guide||[]).push([[634],{9678:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var s=n(1656),a=n(8774),o=n(6025),i=n(6540);const r={versionContainer:"versionContainer_NUcS",versionInfo:"versionInfo_wS6G",versionLabel:"versionLabel_OnkW",versionNumber:"versionNumber_pxpM",statusText:"statusText_Gr42",updateButton:"updateButton_XkVD"};var l=n(4848);const c=3e5;function d({testMode:e=!1}){const t=(0,o.Ay)("/version.json"),[n,s]=(0,i.useState)(null),[a,d]=(0,i.useState)(null),[u,x]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),[j,y]=(0,i.useState)(null);(0,i.useEffect)(()=>{"undefined"!=typeof navigator&&x(navigator.onLine),g();const e=w(),t=b(),s=()=>{if(n){const e=n.split("."),t=parseInt(e[0])||1,s=parseInt(e[1])||0,a=parseInt(e[2])||0;d(`${t}.${s}.${a+1}`),v(!0),x(!0),h(!1)}};return"undefined"!=typeof window&&window.addEventListener("test-update-available",s),()=>{e&&e(),t&&t(),"undefined"!=typeof window&&window.removeEventListener("test-update-available",s)}},[n]),(0,i.useEffect)(()=>{if(e&&n){const e=n.split("."),t=parseInt(e[0])||1,s=parseInt(e[1])||0,a=parseInt(e[2])||0;d(`${t}.${s}.${a+1}`),v(!0),x(!0),h(!1)}},[e,n]);const g=async()=>{try{const e=await fetch(t,{cache:"no-cache",headers:{"Cache-Control":"no-cache"}});if(e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/json")){const t=await e.json();s(t.version),y(t.buildDate)}else console.warn("version.json returned non-JSON content"),s("0.0.1")}else s("0.0.1")}catch(e){s("0.0.1")}},f=async()=>{if(u&&n){h(!0);try{const e=await fetch("https://raw.githubusercontent.com/Fliight-Engineering/argus-interactive-guide/main/static/version.json",{cache:"no-store",headers:{Accept:"application/json"}});if(e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/json")){const t=await e.json();d(t.version),t.version&&t.version!==n?v(!0):v(!1)}else v(!1)}else v(!1)}catch(e){v(!1)}finally{h(!1)}}},w=()=>{if("undefined"==typeof window)return()=>{};const e=()=>{x(!0),f()},t=()=>{x(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},b=()=>{u&&f();const e=setInterval(()=>{u&&f()},c);return()=>clearInterval(e)},k=u?p?"Checking...":m&&a?`Update available: v${a}`:n?"Up to date":"Loading...":"Offline",C=u&&!p&&m&&a;return(0,l.jsx)("div",{className:r.versionContainer,children:(0,l.jsxs)("div",{className:r.versionInfo,children:[(0,l.jsx)("span",{className:r.versionLabel,children:"Argus Documentation:"}),(0,l.jsxs)("span",{className:r.versionNumber,children:["v",n||"0.0.1"]}),(0,l.jsxs)("span",{className:r.statusText,children:["(",k,")"]}),C&&(0,l.jsx)("button",{className:r.updateButton,onClick:()=>{"undefined"!=typeof window&&window.open("https://github.com/Fliight-Engineering/argus-interactive-guide/releases/latest","_blank")},title:"Download latest version",children:"Download"})]})})}const u={modalOverlay:"modalOverlay_QrTS",modalContent:"modalContent_Siit",modalHeader:"modalHeader_S7om",modalTitle:"modalTitle_MfTm",closeButton:"closeButton_YFc6",progressContainer:"progressContainer_gsUt",progressBar:"progressBar_egJb",stats:"stats_weTM",percent:"percent_L7zO",completeContent:"completeContent_m7cz",completeMessage:"completeMessage_BzQV",buttonGroup:"buttonGroup_anPO",primaryButton:"primaryButton_o_WO",secondaryButton:"secondaryButton_czZT"};function x({isOpen:e,onClose:t,currentVersion:n,latestVersion:s}){const[a,o]=(0,i.useState)(0),[r,c]=(0,i.useState)("-- MB/s"),[d,x]=(0,i.useState)("Calculating..."),[p,h]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{e||(o(0),c("-- MB/s"),x("Calculating..."),h(!1),v(!1))},[e]),(0,i.useEffect)(()=>{if(e&&!p&&!m){h(!0),o(0);let e=0;const t=setInterval(()=>{if(e+=15*Math.random(),e>=100)e=100,clearInterval(t),h(!1),v(!0),c("Complete!"),x("Installing...");else{o(Math.min(e,100));const t=(2+6*Math.random()).toFixed(1);c(`${t} MB/s`);const n=100-e,s=Math.ceil(n/(10*t)),a=Math.floor(s/60),i=s%60;x(a>0?`${a}m ${i}s remaining`:`${i}s remaining`)}},200);return()=>clearInterval(t)}},[e,p,m]),e?(0,l.jsx)("div",{className:u.modalOverlay,onClick:t,children:(0,l.jsxs)("div",{className:u.modalContent,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:u.modalHeader,children:[(0,l.jsx)("h3",{className:u.modalTitle,children:m?"Update Ready":"Downloading Update"}),!m&&(0,l.jsx)("button",{className:u.closeButton,onClick:t,"aria-label":"Close",children:"\xd7"})]}),!m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:u.progressContainer,children:(0,l.jsx)("div",{className:u.progressBar,style:{width:`${a}%`}})}),(0,l.jsxs)("div",{className:u.stats,children:[(0,l.jsxs)("span",{className:u.percent,children:[Math.round(a),"%"]}),(0,l.jsx)("span",{children:r}),(0,l.jsx)("span",{children:d})]})]}),m&&(0,l.jsxs)("div",{className:u.completeContent,children:[(0,l.jsxs)("p",{className:u.completeMessage,children:["Version ",s," has been downloaded and is ready to install."]}),(0,l.jsxs)("div",{className:u.buttonGroup,children:[(0,l.jsx)("button",{className:u.primaryButton,onClick:t,children:"Restart Now"}),(0,l.jsx)("button",{className:u.secondaryButton,onClick:t,children:"Later"})]})]})]})}):null}const p={features:"features_t9lD",featureSvg:"featureSvg_GfXr",featuresSection:"featuresSection_r4hS",overlay:"overlay_Ykrw",buttonsContainer:"buttonsContainer_LsSy",mainButton:"mainButton_JeAB",buttonIcon:"buttonIcon_LYpt",testButton:"testButton_ymBN"},h=()=>(0,l.jsx)("svg",{className:p.buttonIcon,width:"200",height:"200",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"20",y1:"80",x2:"55",y2:"80"}),(0,l.jsx)("line",{x1:"10",y1:"100",x2:"53",y2:"100"}),(0,l.jsx)("line",{x1:"20",y1:"120",x2:"55",y2:"120"}),(0,l.jsx)("circle",{cx:"120",cy:"100",r:"65"}),(0,l.jsx)("circle",{cx:"120",cy:"100",r:"50"}),(0,l.jsx)("line",{x1:"120",y1:"100",x2:"135",y2:"75"}),(0,l.jsx)("line",{x1:"120",y1:"100",x2:"145",y2:"110"}),(0,l.jsx)("line",{x1:"120",y1:"52",x2:"120",y2:"60"}),(0,l.jsx)("line",{x1:"168",y1:"100",x2:"160",y2:"100"}),(0,l.jsx)("line",{x1:"120",y1:"140",x2:"120",y2:"148"}),(0,l.jsx)("line",{x1:"75",y1:"100",x2:"83",y2:"100"})]})}),m=()=>(0,l.jsx)("svg",{className:p.buttonIcon,viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"User manual",children:(0,l.jsxs)("g",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",transform:"translate(3, 3)",children:[(0,l.jsx)("path",{strokeWidth:"0.84",d:"M1.5,3.41V16.77H9.14A2.86,2.86,0,0,1,12,19.64V6.27A2.86,2.86,0,0,0,9.14,3.41Z"}),(0,l.jsx)("path",{strokeWidth:"0.84",d:"M22.5,3.41V16.77H14.86A2.86,2.86,0,0,0,12,19.64V6.27a2.86,2.86,0,0,1,2.86-2.86Z"}),(0,l.jsx)("polyline",{strokeWidth:"0.84",points:"22.5 16.77 22.5 20.59 14.86 20.59 9.14 20.59 1.5 20.59 1.5 16.77"}),(0,l.jsx)("line",{x1:"2.6",y1:"7.5",x2:"10.3",y2:"7.5",strokeWidth:"0.4"}),(0,l.jsx)("line",{x1:"2.6",y1:"10.0",x2:"10.3",y2:"10.0",strokeWidth:"0.4"}),(0,l.jsx)("line",{x1:"2.6",y1:"12.5",x2:"10.3",y2:"12.5",strokeWidth:"0.4"}),(0,l.jsx)("line",{x1:"13.7",y1:"7.5",x2:"21.4",y2:"7.5",strokeWidth:"0.4"}),(0,l.jsx)("line",{x1:"13.7",y1:"10.0",x2:"21.4",y2:"10.0",strokeWidth:"0.4"}),(0,l.jsx)("line",{x1:"13.7",y1:"12.5",x2:"21.4",y2:"12.5",strokeWidth:"0.4"})]})});function v(){const e=(0,o.Ay)("/img/vts-guide/main-banner.png"),[t,n]=(0,i.useState)(!1),[s,r]=(0,i.useState)("1.0.10"),[c,u]=(0,i.useState)("1.0.11");(0,i.useEffect)(()=>{(async()=>{try{const e=await fetch("/version.json");if(e.ok){const t=await e.json();r(t.version||"1.0.10")}}catch(e){}})()},[]);return(0,l.jsxs)("section",{className:p.featuresSection,style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative"},children:[(0,l.jsx)("div",{className:p.overlay}),(0,l.jsxs)("div",{className:p.buttonsContainer,children:[(0,l.jsxs)(a.A,{className:p.mainButton,to:"/quick-start/",children:[(0,l.jsx)(h,{}),"Quick Start"]}),(0,l.jsxs)(a.A,{className:p.mainButton,to:"/docs/",children:[(0,l.jsx)(m,{}),"Full Manual"]}),(0,l.jsx)("button",{onClick:()=>{const e=s.split("."),t=parseInt(e[0])||1,a=parseInt(e[1])||0,o=parseInt(e[2])||0;u(`${t}.${a}.${o+1}`),n(!0)},className:p.testButton,title:"Test update UI",children:"Test Update"})]}),(0,l.jsx)(d,{}),(0,l.jsx)(x,{isOpen:t,onClose:()=>n(!1),currentVersion:s,latestVersion:c})]})}var j=n(4586);function y(){const{siteConfig:e}=(0,j.A)();return(0,l.jsx)(s.A,{title:e.title,description:e.tagline,children:(0,l.jsx)(v,{})})}}}]);